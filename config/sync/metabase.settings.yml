metabase:
  internal:
    base_url: 'http://localhost:3001'
  external:
    base_url: 'http://localhost:3001'
embeding:
  api_token: 8e46bda4aafce675fc0a55f0dbff98d631551a7e52fa5988924434ca3634fe40
  base_url: /proxy
  dashboard:
    top: '2,4,5,6,7,9,8,10,11,12'
    main: '1'
    other: '3'
    elango: '13'
  force_https: 1
overwrite:
  css: ":root {\r\n  --mb-default-font-family: \"Montserrat\" !important;\r\n  --default-font-family: \"Montserrat\" !important;\r\n}\r\n\r\n@font-face {\r\n  font-family: \"Montserrat\";\r\n  font-style: normal;\r\n  font-weight: 700;\r\n  src: url(\"/themes/custom/shush/assets/fonts/Montserrat/Montserrat-VariableFont_wght.ttf\");\r\n}\r\n\r\n@font-face {\r\n  font-family: \"Montserrat\";\r\n  font-style: normal;\r\n  font-weight: 600;\r\n  src: url(\"/themes/custom/shush/assets/fonts/Montserrat/Montserrat-VariableFont_wght.ttf\");\r\n}\r\n\r\n@font-face {\r\n  font-family: \"Montserrat\";\r\n  font-style: normal;\r\n  font-weight: 400;\r\n  src: url(\"/themes/custom/shush/assets/fonts/Montserrat/Montserrat-VariableFont_wght.ttf\");\r\n}\r\n\r\nbody {\r\n  background-color: transparent !important;\r\n}\r\n\r\nheader {\r\n  display: none !important;\r\n}\r\n\r\n#root>div {\r\n  height: 100%;\r\n  overflow: hidden;\r\n}\r\n\r\n#root>div,\r\n#root>div>div {\r\n  background-color: transparent !important;\r\n}\r\n\r\n#root>div>div>main>div>div {\r\n  padding: 0px !important;\r\n}\r\n\r\nfooter {\r\n  display: none !important;\r\n}\r\n\r\na {\r\n  color: red !important;\r\n}\r\n\r\n/* Dashboard - Cards */\r\n\r\n#iframe-elango div.react-grid-layout {\r\n  display: flex !important;\r\n  flex-flow: row wrap !important;\r\n  height: auto !important;\r\n  width: 100% !important;\r\n  gap: 5px;\r\n}\r\n\r\n#iframe-elango div.react-grid-layout>.react-grid-item {\r\n  flex-basis: calc(calc(100% - 35px) / 5) !important;\r\n  width: auto !important;\r\n  position: relative !important;\r\n  transform: none !important;\r\n  padding: 100px 0 !important;\r\n}\r\n\r\n#iframe-elango div.react-grid-layout>.react-grid-item.container-small {\r\n  padding: 0 !important;\r\n}\r\n\r\n.dashcard,\r\n.decrease,\r\n.increase,\r\n.equals {\r\n  border-radius: 24px !important;\r\n}\r\n\r\n.dashcard {\r\n  background-color: #e0e5f2 !important;\r\n  border: 1px solid #7f85ae !important;\r\n  color: #2b3674;\r\n  padding: 30px 0;\r\n}\r\n\r\ndiv.dashcard>div>div>div {\r\n  align-items: flex-start !important;\r\n}\r\n\r\ndiv.dashcard>div>div>div>div[data-testid=\"scalar-title\"] {\r\n  justify-content: flex-start !important;\r\n}\r\n\r\n.decrease h1,\r\n.decrease h3,\r\n.increase h1,\r\n.increase h3,\r\n.equals h1,\r\n.equals h3 {\r\n  font-size: 20px !important;\r\n  font-weight: 400 !important;\r\n  line-height: 20px !important;\r\n}\r\n\r\n.decrease h1,\r\n.increase h1,\r\n.equals h1 {\r\n  font-weight: 400 !important;\r\n}\r\n\r\n.decrease h3,\r\n.increase h3,\r\n.equals h3 {\r\n  font-weight: 600 !important;\r\n}\r\n\r\n.decrease {\r\n  background-color: #ffefef !important;\r\n  border: 1px solid #ff8080 !important;\r\n  color: #a80202;\r\n}\r\n\r\n.increase {\r\n  background-color: #d0fff3 !important;\r\n  border: 1px solid #7bbdab !important;\r\n  color: #005d42;\r\n}\r\n\r\n.equals {\r\n  background-color: #eeeeee !important;\r\n  border: 1px solid #9c9c9c !important;\r\n  color: #373838;\r\n}\r\n\r\n.increase>div>div>div,\r\n.decrease>div>div>div,\r\n.equals>div>div>div {\r\n  flex-flow: row nowrap;\r\n  justify-content: space-between;\r\n}\r\n\r\n.increase>div>div>div>div[data-testid=\"scalar-title\"],\r\n.decrease>div>div>div>div[data-testid=\"scalar-title\"],\r\n.equals>div>div>div>div[data-testid=\"scalar-title\"] {\r\n  display: block !important;\r\n  max-height: 100% !important;\r\n  text-overflow: inherit;\r\n  width: auto !important;\r\n  padding-right: 8px !important;\r\n}\r\n\r\ndiv[data-testid=\"dashboard-parameters-widget-container\"] {\r\n  background-color: transparent !important;\r\n  padding: 0 !important;\r\n}\r\n\r\n.increase h1:before {\r\n  content: \"\\25B2\";\r\n}\r\n\r\n.decrease h1:before {\r\n  content: \"\\25BC\";\r\n}\r\n\r\ndiv.dashcard>div>div>div>div:nth-child(2) {\r\n  padding: 0px 16px !important;\r\n}\r\n\r\ndiv.dashcard>div>div>div>div:nth-child(3) {\r\n  padding: 0 16px !important;\r\n}\r\n\r\ndiv.dashcard h1 {\r\n  font-size: 64px !important;\r\n}\r\n\r\ndiv.dashcard h1 span {\r\n  font-size: 40px !important;\r\n}\r\n\r\ndiv.dashcard h3 {\r\n  font-size: 20px !important;\r\n  line-height: 24px !important;\r\n  max-height: 24px !important;\r\n}\r\n\r\ndiv[data-testid=\"dashcard-container\"].container-small,\r\ndiv.DashCard.container-small {\r\n  height: 56px !important;\r\n  margin-bottom: 24px !important;\r\n}\r\n\r\n.increase h1:before, .decrease h1:before {\r\n  font-size: 24px;\r\n  padding: 0 8px;\r\n}\r\n\r\n/* Dashboard - Charts */\r\n\r\n@media (min-width: 1190px) {\r\n  div[data-testid=\"fixed-width-filters\"]>div {\r\n    flex-wrap: nowrap;\r\n    width: 100%;\r\n  }\r\n}\r\n\r\ndiv[data-testid=\"fixed-width-filters\"]>div>div {\r\n  flex-basis: 16.6%;\r\n}\r\n\r\ndiv[data-testid=\"fixed-width-filters\"]>div>div fieldset a .text-nowrap {\r\n  text-overflow: ellipsis;\r\n  max-width: 250px;\r\n  overflow: hidden;\r\n}\r\n\r\ndiv[data-viz-ui-name=\"Bar\"]>div>div>div:nth-child(2)>div:nth-child(1) {\r\n  display: none !important;\r\n}\r\n\r\ndiv[data-viz-ui-name=\"Bar\"]>div>div>div:nth-child(2)>div:last-child {\r\n  display: flex !important;\r\n}\r\n\r\ndiv[data-testid=\"legend-caption\"]>div{\r\n  font-size: 28px !important;\r\n}\r\n\r\ndiv[data-testid=\"chart-container\"]>div>svg>g>text[text-anchor=\"middle\"]{\r\n  font-size: 24px !important;\r\n}\r\n"
  js: "(function () {\r\n  'use strict';\r\n  setInterval(() => {\r\n    document.querySelectorAll('[data-testid=\"dashcard\"]').forEach(container => {\r\n      const titleElement = container.querySelector('div[data-testid=\"scalar-title\"]>h3>div');\r\n      const valueElement = container.querySelector('div[data-testid=\"scalar-container\"]>span>h1');\r\n      if (!titleElement || !valueElement) {\r\n        return;\r\n      }\r\n      const text = titleElement.innerText.trim();\r\n      const value = valueElement.innerText.trim();\r\n      if (text.includes('-o-')) {\r\n        container.parentNode.classList.add(\"container-small\");\r\n        if (value.includes('-') && !container.classList.contains(\"decrease\")) {\r\n          container.classList.add(\"decrease\");\r\n          valueElement.textContent =valueElement.textContent.replace('-', '');\r\n        }\r\n        else if (value.includes('+') && !container.classList.contains(\"increase\")) {\r\n          container.classList.add(\"increase\");\r\n          valueElement.textContent = valueElement.textContent.replace('+', '');\r\n        }\r\n        else if (!container.classList.contains(\"decrease\") && !container.classList.contains(\"increase\") && !container.classList.contains(\"equals\")) {\r\n          container.classList.add(\"equals\");\r\n        }\r\n      }\r\n      else {\r\n        if (!container.classList.contains(\"dashcard\")) {\r\n          container.classList.add(\"dashcard\");\r\n\r\n          if (!valueElement.textContent.includes('|')) {\r\n            return;\r\n          }\r\n\r\n          const parts = valueElement.textContent.split('|');\r\n\r\n          if (parts.length < 2) {\r\n            return;\r\n          }\r\n\r\n          const enhancedHTML = parts[0] + '<span>' + parts[1] + '</span>';\r\n          valueElement.innerHTML = enhancedHTML;\r\n\r\n          if (parts.length == 3) {\r\n            titleElement.innerHTML = titleElement.innerHTML.replace('###', parts[2]);\r\n          }\r\n        }\r\n      }\r\n    }\r\n    );\r\n  }, 50);\r\n}\r\n)();\r\n\r\n(function (document, window) {\r\n  'use strict';\r\n\r\n  const url = window.location.href;\r\n  const hashPart = url.split('#')[1];\r\n  let id = null;\r\n\r\n  if (hashPart) {\r\n    const params = new URLSearchParams(hashPart);\r\n    id = params.get('id');\r\n    document.getElementsByTagName('body')[0].setAttribute('id', id);\r\n  }\r\n\r\n  // Listen for clicks and send to parent\r\n  document.addEventListener('click', function (event) {\r\n\r\n    window.parent.postMessage({\r\n      type: 'iframe-click',\r\n      iframeId: id,\r\n    }, '*');\r\n  });\r\n\r\n  // Listen for propagated clicks from parent\r\n  window.addEventListener('message', function (event) {\r\n    if (event.data.type === 'propagated-click' && event.data.targetIframe !== window.name) {\r\n      if (event.data.sourceIframe) {\r\n        // console.log('Received click from iframe:', event.data.sourceIframe);\r\n        document.getElementById('root').dispatchEvent(new MouseEvent('mousedown', {\r\n          bubbles: true,\r\n          cancelable: true\r\n        }));\r\n      }\r\n    }\r\n  });\r\n})(document, window);\r\n"
